<!DOCTYPE html>
<html>
  <head>
   
  </head>
  <body>
    <div class="container mt-5">
      <h2 class="text-center mb-5">Cadastrar Produto</h2>
      <form [formGroup]="formulario">
        <div class="form-group">
          <label for="produtoTitulo">Descrição Produto</label>
          <input type="text" class="form-control" id="produtoDescricao" name="Descricao" placeholder="Insira a Descricao do produto" formControlName="Descricao"
          [ngClass]="{'is-invalid': formulario.get('Descricao').errors && (formulario.get('Descricao').dirty || formulario.get('Descricao').touched) }" >
          <span class="text-danger" *ngIf="formulario.get('Descricao').errors && (formulario.get('Descricao').dirty || formulario.get('Descricao').touched)" >
            <p >Preencha o campo descrição</p>
        </span>
        </div>      
        <div class="form-group">
          <label for="produtoDataFabricacao">Data de Fabricação</label>
          <input type="date" class="form-control" id="produtoDataFabricacao" name="data" formControlName="DataFabricacao"
                 [ngClass]="{'is-invalid': formulario.get('DataFabricacao').errors && formulario.get('DataFabricacao').touched}">
          <span class="text-danger" *ngIf="formulario.get('DataFabricacao').invalid && formulario.get('DataFabricacao').touched">
            {{ formulario.get('DataFabricacao').hasError('required') ? 'Campo obrigatório' : 'Data inválida' }}
            {{ formulario.get('DataFabricacao').hasError('invalidRange') ? '- Data de fabricação não pode ser igual ou maior que a data de validade' : '' }}
          </span>
        </div>
        <div class="form-group">
          <label for="produtoDataValidade">Data de Validade</label>
          <input type="date" class="form-control" id="produtoDataValidade" name="data" formControlName="DataValidade"
                 [ngClass]="{'is-invalid': formulario.get('DataValidade').errors && formulario.get('DataValidade').touched}">
          <span class="text-danger" *ngIf="formulario.get('DataValidade').invalid && formulario.get('DataValidade').touched">
            {{ formulario.get('DataValidade').hasError('required') ? 'Campo obrigatório' : 'Data inválida' }}
            {{ formulario.get('DataValidade').hasError('invalidRange') ? '- Data de validade não pode ser igual ou menor que a data de fabricação' : '' }}
          </span>
        </div>
        <div class="form-group">
          <label for="produtoFornecedorId">ID do Fornecedor</label>
          <input type="number" class="form-control" id="produtoFornecedorId" name="produtoFornecedorId" placeholder="Insira um ID do fornecedor" formControlName="IdFornecedor"
          [ngClass]="{'is-invalid': formulario.get('IdFornecedor').errors && (formulario.get('IdFornecedor').dirty || formulario.get('IdFornecedor').touched) }">
          <span class="text-danger" *ngIf="formulario.get('IdFornecedor').errors && (formulario.get('IdFornecedor').dirty || formulario.get('IdFornecedor').touched)" >
            <p >Preencha o ID do fornecedor</p>
        </span>
        </div>        
        <button type="submit" class="btn btn-primary mr-2 botao-salvar" [disabled]="!formulario.valid" (click)="cadastrarProduto()">Cadastrar Produto</button>
        <button type="button" class="btn btn-secondary botao-cancelar" (click)="cancelar()">Cancelar</button>
      </form>
    </div>

